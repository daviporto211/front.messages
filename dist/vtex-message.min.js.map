{"version":3,"file":"vtex-message.min.js","sources":["../build/front-messages-ui/script/vtex-message.js"],"names":["Message","Messages","root","__bind","fn","me","apply","arguments","exports","window","vtex","options","defaultProperties","defaultTemplate","modalDefaultTemplate","this","hide","show","classes","TEMPLATEDEFAULT","MODALTEMPLATEDEFAULT","TEMPLATE","TITLE","SEPARATOR","DETAIL","TYPE","MESSAGEINSTANCE","id","_","uniqueId","timeout","template","modalTemplate","MODALTEMPLATE","prefixClassForType","content","title","detail","close","type","usingModal","usingDefaultTemplate","domElement","$","insertMethod","timer","extend","getTimeoutDefaults","getInstance","modalPlaceholder","Error","addClass","placeholder","clone","data","html","text","prototype","ONE_SECOND","startTimeout","_this","clearTimeout","setTimeout","modalArray","modalQueue","indexOf","one","splice","length","modal","push","trigger","removeClass","Modernizr","csstransforms","csstransitions","opacity","bind","hasClass","VtexMessages","instance","resetDuplicatedMessageTimeout","removeMessage","PLACEHOLDER","MODALPLACEHOLDER","ajaxError","messagesArray","buildPlaceholderTemplate","registerEventListeners","bindAjaxError","getCookie","addMessage","message","messageObj","isMessageDuplicated","on","append","messageId","currentMessage","i","_i","_ref","remove","changeContainerVisibility","each","substr","removeAllMessages","notModalMessages","filter","document","event","xhr","addIframeLater","errorMessage","globalClose","globalError","globalUnknownError","iframe","isContentJson","showFullError","_ref1","status","readyState","i18n","t","getResponseHeader","decodeURIComponent","responseText","error","createElement","src","css","evt","name","cookie","cookieValue","cookies","split","replace","substring","call"],"mappings":"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"}