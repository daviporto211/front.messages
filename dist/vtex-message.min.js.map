{"version":3,"file":"vtex-message.min.js","sources":["../build/front-messages-ui/script/vtex-message.js"],"names":["Message","Messages","root","__bind","fn","me","apply","arguments","exports","window","vtex","options","defaultProperties","defaultTemplate","modalDefaultTemplate","_this","this","hide","show","classes","TEMPLATEDEFAULT","MODALTEMPLATEDEFAULT","TEMPLATE","TITLE","SEPARATOR","DETAIL","TYPE","MESSAGEINSTANCE","id","_","uniqueId","timeout","template","modalTemplate","MODALTEMPLATE","prefixClassForType","content","title","detail","close","type","visible","usingModal","domElement","$","insertMethod","extend","setTimeoutDefaults","getInstance","modalPlaceholder","Error","addClass","placeholder","clone","data","html","text","on","trigger","append","prototype","ONE_SECOND","flagVisibleSet","modal","modalData","_i","_len","_ref","length","one","setTimeout","removeClass","Modernizr","csstransforms","csstransitions","opacity","bind","hasClass","VtexMessages","instance","removeMessage","PLACEHOLDER","MODALPLACEHOLDER","ajaxError","messagesArray","buildPlaceholderTemplate","registerEventListeners","bindAjaxError","getCookie","addMessage","message","messageObj","deduplicateMessages","push","messageId","currentMessage","i","splice","remove","changeContainerVisibility","each","removeAllMessages","notModalMessages","filter","document","event","xhr","addIframeLater","errorMessage","globalClose","globalError","globalUnknownError","iframe","isContentJson","showFullError","_ref1","status","readyState","i18n","t","getResponseHeader","decodeURIComponent","indexOf","responseText","error","createElement","src","css","evt","name","cookie","cookieValue","cookies","split","replace","substring","call"],"mappings":";;CAAA,WACE,GAAIA,GAASC,EAAUC,EACrBC,EAAS,SAASC,EAAIC,GAAK,MAAO,YAAY,MAAOD,GAAGE,MAAMD,EAAIE,YAEpEL,GAA0B,mBAAZM,UAAuC,OAAZA,QAAmBA,QAAUC,OAEtEA,OAAOC,KAAOD,OAAOC,SASrBV,EAAU,WACR,QAASA,GAAQW,GACf,GAAIC,GAAmBC,EAAiBC,EACtCC,EAAQC,IAwCV,IAvCe,MAAXL,IACFA,MAEFK,KAAKC,KAAOd,EAAOa,KAAKC,KAAMD,MAC9BA,KAAKE,KAAOf,EAAOa,KAAKE,KAAMF,MAC9BA,KAAKG,SACHC,gBAAiB,qEACjBC,qBAAsB,iFACtBC,SAAU,gCACVC,MAAO,6BACPC,UAAW,iCACXC,OAAQ,8BACRC,KAAM,4BACNC,gBAAiB,gCAEnBf,GACEgB,GAAIC,EAAEC,SAAS,uBACfC,QAAS,IACTC,SAAUhB,KAAKG,QAAQG,SACvBW,cAAejB,KAAKG,QAAQe,cAC5BC,mBAAoBnB,KAAKG,QAAQO,KACjCU,SACEC,MAAO,GACPC,OAAQ,IAEVC,MAAO,QACPC,KAAM,OACNC,SAAS,EACTC,YAAY,EACZC,WAAYC,IACZC,aAAc,UAEhBhB,EAAEiB,OAAO9B,KAAMJ,EAAmBD,GAClCK,KAAKe,QAAUf,KAAK+B,mBAAmBpC,GACvCG,EAAuB,6XAAiZE,KAAKuB,MAAQ,8BACrb1B,EAAkB,oNACA,UAAdG,KAAKwB,OACPxB,KAAK0B,YAAa,GAEhB1B,KAAK0B,WAAY,CACnB,IAAKE,EAAElC,KAAKT,SAAS+C,cAAcC,kBAAkB,GACnD,KAAM,IAAIC,OAAM,8CAElB,IAAIlC,KAAKiB,gBAAkBjB,KAAKG,QAAQe,cACtClB,KAAKiB,cAAgBnB,MAErB,KAAK8B,EAAE5B,KAAKiB,eAAe,GACzB,KAAM,IAAIiB,OAAM,qDAGpBlC,MAAK2B,WAAaC,EAAE5B,KAAKiB,eACzBW,EAAE5B,KAAK2B,YAAYQ,SAASnC,KAAKY,GAAK,IAAMZ,KAAKG,QAAQQ,gBAAkB,IAAMX,KAAKG,QAAQO,KAAOV,KAAKwB,MAAMvB,OAElH,IAAKD,KAAK0B,WAAY,CACpB,IAAKE,EAAElC,KAAKT,SAAS+C,cAAcI,aAAa,GAC9C,KAAM,IAAIF,OAAM,wCAElB,IAAIlC,KAAKgB,WAAahB,KAAKG,QAAQG,SACjCN,KAAKgB,SAAWnB,MAEhB,KAAK+B,EAAE5B,KAAKgB,UAAU,GACpB,KAAM,IAAIkB,OAAM,+CAGpBlC,MAAK2B,WAAaC,EAAE5B,KAAKgB,UAAUqB,OAAM,GAAO,GAChDT,EAAE5B,KAAK2B,YAAYQ,SAASnC,KAAKY,GAAK,IAAMZ,KAAKG,QAAQQ,gBAAkB,IAAMX,KAAKG,QAAQO,KAAOV,KAAKwB,MAE5GI,EAAE5B,KAAK2B,YAAYW,KAAK,eAAgBtC,MACpCA,KAAKoB,QAAQmB,MACXvC,KAAKoB,QAAQC,OAAgC,KAAvBrB,KAAKoB,QAAQC,MACrCO,EAAE5B,KAAKG,QAAQI,MAAOP,KAAK2B,YAAYY,KAAKvC,KAAKoB,QAAQC,OAEzDO,EAAE5B,KAAKG,QAAQI,MAAOP,KAAK2B,YAAY1B,OAEzC2B,EAAE5B,KAAKG,QAAQM,OAAQT,KAAK2B,YAAYY,KAAKvC,KAAKoB,QAAQE,UAEtDtB,KAAKoB,QAAQC,OAAgC,KAAvBrB,KAAKoB,QAAQC,MACrCO,EAAE5B,KAAKG,QAAQI,MAAOP,KAAK2B,YAAYa,KAAKxC,KAAKoB,QAAQC,OAEzDO,EAAE5B,KAAKG,QAAQI,MAAOP,KAAK2B,YAAY1B,OAEzC2B,EAAE5B,KAAKG,QAAQM,OAAQT,KAAK2B,YAAYa,KAAKxC,KAAKoB,QAAQE,SAEtDtB,KAAKoB,QAAQC,OAAgC,KAAvBrB,KAAKoB,QAAQC,OAAmBrB,KAAKoB,QAAQE,QAAkC,KAAxBtB,KAAKoB,QAAQE,QAC9FM,EAAE5B,KAAKG,QAAQK,UAAWR,KAAK2B,YAAY1B,OAEzCD,KAAK0B,YACPE,EAAE5B,KAAK2B,YAAYc,GAAG,SAAU,WAE9B,MADA1C,GAAM0B,SAAU,EACTG,EAAEnC,QAAQiD,QAAQ,qBAAsB3C,EAAMa,MAEvDgB,EAAElC,KAAKT,SAAS+C,cAAcC,kBAAkBU,OAAO3C,KAAK2B,aAE5DC,EAAElC,KAAKT,SAAS+C,cAAcI,aAAapC,KAAK6B,cAAc7B,KAAK2B,YAErE3B,KAAKE,OA6GP,MAlGAlB,GAAQ4D,UAAUb,mBAAqB,SAASpC,GAC9C,GAAIkD,GAAY9B,CAEhB,IADA8B,EAAa,IACU,MAAnBlD,EAAQoB,QACVA,EAAUpB,EAAQoB,YAElB,QAAQf,KAAKwB,MACX,IAAK,UACHT,EAAU,GAAK8B,CACf,MACF,KAAK,OACH9B,EAAU,GAAK8B,CACf,MACF,KAAK,UACH9B,EAAU,GAAK8B,CACf,MACF,KAAK,QACH9B,EAAU,GAAK8B,CACf,MACF,KAAK,SACH9B,EAAU,GAAK8B,CACf,MACF,SACE9B,EAAU,GAAK8B,EAGrB,MAAO9B,IAUT/B,EAAQ4D,UAAU1C,KAAO,WACvB,GAAI4C,GAAgBC,EAAOC,EAAWC,EAAIC,EAAMC,EAC9CpD,EAAQC,IACV,IAAIA,KAAK0B,WAAY,CAGnB,IAFAoB,GAAiB,EACjBK,EAAOvB,EAAE,UAAY5B,KAAKG,QAAQQ,iBAC7BsC,EAAK,EAAGC,EAAOC,EAAKC,OAAaF,EAALD,EAAWA,IAC1CF,EAAQI,EAAKF,GACbD,EAAYpB,EAAEmB,GAAOT,KAAK,gBACrBU,EAAUrB,WAAW,KAAO3B,KAAK2B,WAAW,IAAQqB,EAAUvB,WAAY,IAC7EqB,GAAiB,EACjBlB,EAAEmB,GAAOM,IAAI,SAAU,WAErB,MADAzB,GAAE7B,EAAM4B,YAAYoB,MAAM,QACnBhD,EAAM0B,SAAU,IAIxBqB,KACHlB,EAAE5B,KAAK2B,YAAYc,GAAG,OAAQ,WAC5B,MAAO1C,GAAM0B,SAAU,IAEzBG,EAAE5B,KAAK2B,YAAYoB,MAAM,SAG7B,MAAK/C,MAAK0B,aACR1B,KAAK2B,WAAWQ,SAAS,uCACzBnC,KAAKyB,SAAU,EACM,MAAhBzB,KAAKe,SAAqC,IAAjBf,KAAKe,SAHrC,OAIWtB,OAAO6D,WAAW,WACvB,MAAOvD,GAAME,QACZD,KAAKe,UAYd/B,EAAQ4D,UAAU3C,KAAO,WACvB,GAAIF,GAAQC,IAKZ,OAJIA,MAAK0B,aACP1B,KAAK2B,WAAWoB,MAAM,QACtBnB,EAAEnC,QAAQiD,QAAQ,qBAAsB1C,KAAKY,KAE1CZ,KAAK0B,WAAV,QACE1B,KAAK2B,WAAW4B,YAAY,uCACF,mBAAdC,YAA2C,OAAdA,WAAuBA,UAAUC,eAAiBD,UAAUE,gBAAkBF,UAAUG,QACxH3D,KAAK2B,WAAWiC,KAAK,mEAAoE,WAC9F,MAAK7D,GAAM4B,WAAWkC,SAAS,uCAA/B,OACSjC,EAAEnC,QAAQiD,QAAQ,qBAAsB3C,EAAMa,MAIlDgB,EAAEnC,QAAQiD,QAAQ,qBAAsB1C,KAAKY,MAKnD5B,KAYTC,EAAW,WAGT,QAASA,MAFT,GAAI6E,GAAcC,CA8RlB,OA1RAA,GAAW,KAEX9E,EAAS+C,YAAc,SAASrC,GAI9B,MAHe,OAAXA,IACFA,MAEiB,MAAZoE,EAAmBA,EAAWA,EAAW,GAAID,GAAanE,IAGnEmE,EAAe,WASb,QAASA,GAAanE,GACpB,GAAIC,EACW,OAAXD,IACFA,MAEFK,KAAKgE,cAAgB7E,EAAOa,KAAKgE,cAAehE,MAChDA,KAAKG,SACH8D,YAAa,mCACbC,iBAAkB,QAEpBtE,GACEuE,WAAW,EACXC,iBACAhC,YAAapC,KAAKG,QAAQ8D,YAC1BhC,iBAAkBjC,KAAKG,QAAQ+D,kBAEjCrD,EAAEiB,OAAO9B,KAAMJ,EAAmBD,GAClCK,KAAKqE,2BACLrE,KAAKsE,yBACDtE,KAAKmE,WACPnE,KAAKuE,gBAtBT,GAAIC,EAsQJ,OApOAV,GAAalB,UAAU6B,WAAa,SAASC,GAC3C,GAAIC,EAKJ,OAJAA,GAAa,GAAI3F,GAAQ0F,GACzB1E,KAAK4E,oBAAoBD,GACzB3E,KAAKoE,cAAcS,KAAKF,GACxBA,EAAWzE,OACLyE,EAAWjD,YAAiBE,EAAElC,KAAKT,SAAS+C,cAAcI,aAAayB,SAAS,0CAAtF,OACSjC,EAAElC,KAAKT,SAAS+C,cAAcI,aAAaD,SAAS,2CAY/D2B,EAAalB,UAAUoB,cAAgB,SAASc,GAC9C,GAAIC,GAAgBC,EAAG/B,EAAIE,CAC3B,KAAK6B,EAAI/B,EAAKE,EAAOnD,KAAKoE,cAAchB,OAAS,EAAGH,GAAM,EAAG+B,EAAI/B,GAAM,GACrE8B,EAAiB/E,KAAKoE,cAAcY,GAChCD,EAAenE,KAAOkE,IACxB9E,KAAKoE,cAAca,OAAOD,EAAG,GACxBD,EAAerD,WAGlBqD,EAAepD,WAAWoB,MAAM,QAFhCgC,EAAepD,WAAWuD,SAMhC,OAAOlF,MAAKmF,6BAWdrB,EAAalB,UAAUgC,oBAAsB,SAASD,GAEpD,MAAO9D,GAAEuE,KAAKpF,KAAKoE,cAAe,SAASM,GACzC,MAAKA,GAAQtD,QAAQC,QAAUsD,EAAWvD,QAAQC,OAAWqD,EAAQtD,QAAQE,SAAWqD,EAAWvD,QAAQE,QAAYoD,EAAQhD,aAAeiD,EAAWjD,YAAgBgD,EAAQlD,OAASmD,EAAWnD,KAC5LkD,EAAQzE,OADjB,UAcJ6D,EAAalB,UAAUyC,kBAAoB,SAAS3D,GAClD,GAAIsD,GAAGN,EAASzB,EAAIE,CAIpB,KAHkB,MAAdzB,IACFA,GAAa,GAEVsD,EAAI/B,EAAKE,EAAOnD,KAAKoE,cAAchB,OAAS,EAAGH,GAAM,EAAG+B,EAAI/B,GAAM,GACrEyB,EAAU1E,KAAKoE,cAAcY,IACxBN,EAAQhD,cAAe,GAAWA,KAAe,KACpDgD,EAAQ/C,WAAWuD,SACnBlF,KAAKoE,cAAca,OAAOD,EAAG,GAGjC,OAAOhF,MAAKmF,6BAWdrB,EAAalB,UAAUuC,0BAA4B,WACjD,GAAIG,EAKJ,OAHAA,GAAmBzE,EAAE0E,OAAOvF,KAAKoE,cAAe,SAASM,GACvD,MAAOA,GAAQhD,cAAe,IAEC,IAA5B4D,EAAiBlC,QAAiBxB,EAAElC,KAAKT,SAAS+C,cAAcI,aAAayB,SAAS,0CAClFjC,EAAElC,KAAKT,SAAS+C,cAAcI,aAAamB,YAAY,0CADhE,QAYFO,EAAalB,UAAU2B,cAAgB,WACrC,GAAIxE,GAAQC,IACZ,OAAO4B,GAAE4D,UAAUrB,UAAU,SAASsB,EAAOC,GAC3C,GAAIC,GAAgBC,EAAcC,EAAaC,EAAaC,EAAoBC,EAAQC,EAAetB,EAAYuB,EAAe/C,EAAMgD,CACxI,IAAmB,MAAfT,EAAIU,QAAiC,MAAfV,EAAIU,QAGP,IAAnBV,EAAIW,YAAmC,IAAfX,EAAIU,OA0ChC,MAvCAL,GAAqBtG,OAAO6G,KAAO7G,OAAO6G,KAAKC,EAAE,sBAAwB,+BACzET,EAAcrG,OAAO6G,KAAO7G,OAAO6G,KAAKC,EAAE,gBAAkB,QAC5DV,EAAcpG,OAAO6G,KAAO7G,OAAO6G,KAAKC,EAAE,gBAAkB,QACxDb,EAAIc,kBAAkB,yBACxBV,GAAe,6DACfA,GAAe,mCACfA,GAAeW,mBAAmBf,EAAIc,kBAAkB,wBACxDV,GAAe,UACfA,GAAe,aAEbJ,EAAIc,kBAAkB,yBACxBP,EAAyH,MAAtD,OAAjD9C,EAAOuC,EAAIc,kBAAkB,iBAA2BrD,EAAKuD,QAAQ,oBAAsB,QACzGT,GAAyF,OAAlC,OAAnCE,EAAQT,EAAIiB,aAAaC,OAAiBT,EAAMzB,QAAU,QAChFkB,EAAea,mBAAmBf,EAAIiB,aAAaC,MAAMlC,UAEzDkB,EAAea,mBAAmBf,EAAIc,kBAAkB,yBACxDN,EAA+C,YAA/B1B,EAAU,iBACtB0B,IACFN,GAAgB,oQAChBI,EAASR,SAASqB,cAAc,UAChCb,EAAOc,IAAM,gCAAkCL,mBAAmBf,EAAIiB,cACtE/E,EAAEoE,GAAQe,IAAI,QAAS,QACvBnF,EAAEoE,GAAQe,IAAI,SAAU,SACxBpB,GAAiB,KAIrBC,EAAeG,EAEjBpB,GACEnD,KAAM,QACNJ,SACEC,MAAOyE,EACPxE,OAAQsE,EACRrD,MAAM,GAERhB,MAAOsE,GAET9F,EAAM0E,WAAWE,GACbgB,GACF/D,EAAE,sBAAsBW,KAAKyD,GACtBL,EAAiB,MAF1B,UAeJ7B,EAAalB,UAAUyB,yBAA2B,WAChD,MAAOzC,GAAE,oCAAoCe,OAAO,iFAWtDmB,EAAalB,UAAU0B,uBAAyB,WAC9C,GAAIvE,GAAQC,IACZ,OAAIP,SACFmC,EAAEnC,QAAQgD,GAAG,kBAAmB,SAASuE,EAAKtC,GAC5C,MAAO3E,GAAM0E,WAAWC,KAE1B9C,EAAEnC,QAAQgD,GAAG,qBAAsB,SAASuE,EAAKlC,GAC/C,MAAO/E,GAAMiE,cAAcc,KAE7BlD,EAAEnC,QAAQgD,GAAG,yBAA0B,SAASuE,EAAKtF,GAInD,MAHkB,OAAdA,IACFA,GAAa,GAER3B,EAAMsF,kBAAkB3D,KAE1BE,EAAE,kCAAkCa,GAAG,QAAS,SAASuE,EAAKtF,GAInE,MAHkB,OAAdA,IACFA,GAAa,GAER3B,EAAMsF,kBAAkB3D,MAjBnC,QA+BF8C,EAAY,SAASyC,GACnB,GAAIC,GAAQC,EAAaC,EAASpC,CAElC,IADAmC,EAAc,KACV3B,SAAS0B,QAA8B,KAApB1B,SAAS0B,OAG9B,IAFAE,EAAU5B,SAAS0B,OAAOG,MAAM,KAChCrC,EAAI,EACGA,EAAIoC,EAAQhE,QAAQ,CAEzB,GADA8D,GAAUE,EAAQpC,IAAM,IAAIsC,QAAQ,aAAc,IAC9CJ,EAAOK,UAAU,EAAGN,EAAK7D,OAAS,KAAQ6D,EAAO,IAAM,CACzDE,EAAcV,mBAAmBS,EAAOK,UAAUN,EAAK7D,OAAS,GAChE,OAEF4B,IAGJ,MAAOmC,IAGFrD,KAIF7E,GAENuI,KAAKxH,MAERd,EAAKQ,KAAKT,SAAWA,IAEpBuI,KAAKxH"}