{"version":3,"file":"vtex-message.min.js","sources":["../build/front-messages-ui/script/vtex-message.js"],"names":["Message","Messages","root","__bind","fn","me","apply","arguments","exports","window","vtex","options","defaultProperties","defaultTemplate","modalDefaultTemplate","this","hide","show","classes","TEMPLATEDEFAULT","MODALTEMPLATEDEFAULT","TEMPLATE","TITLE","SEPARATOR","DETAIL","TYPE","MESSAGEINSTANCE","id","_","uniqueId","timeout","template","modalTemplate","MODALTEMPLATE","prefixClassForType","content","title","detail","close","type","usingModal","domElement","$","insertMethod","timer","extend","getTimeoutDefaults","getInstance","modalPlaceholder","Error","addClass","placeholder","clone","data","html","text","prototype","ONE_SECOND","startTimeout","_this","clearTimeout","setTimeout","modalArray","modalQueue","indexOf","one","splice","length","modal","push","trigger","removeClass","Modernizr","csstransforms","csstransitions","opacity","bind","hasClass","VtexMessages","instance","resetDuplicatedMessageTimeout","removeMessage","PLACEHOLDER","MODALPLACEHOLDER","ajaxError","messagesArray","buildPlaceholderTemplate","registerEventListeners","bindAjaxError","getCookie","addMessage","message","messageObj","isMessageDuplicated","on","append","messageId","currentMessage","i","_i","_ref","remove","changeContainerVisibility","each","removeAllMessages","notModalMessages","filter","document","event","xhr","addIframeLater","errorMessage","globalClose","globalError","globalUnknownError","iframe","isContentJson","showFullError","_ref1","status","readyState","i18n","t","getResponseHeader","decodeURIComponent","responseText","error","createElement","src","css","evt","name","cookie","cookieValue","cookies","split","replace","substring","call"],"mappings":"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"}